{{define "footer"}}
  <div class="logo">
    <div class="logo_1 logo_element">
    </div>
    <div class="logo_2 logo_element">
    </div>
    <div class="logo_3 logo_element watermark_container">
      <br/>
      <span class="watermark">{{ .Watermark }}</span>
    </div>
    {{template "gamename" .Meta}}
  </div>
  <div class="card_metadata">
    {{if gt .Meta.Draw 0}}
      <div class="draw">DRAW <div class="card_number">{{.Meta.Draw}}</div></div>
    {{end}}
    {{if gt .Meta.Pick 1}}
      <div class="pick">PICK <div class="card_number">{{.Meta.Pick}}</div></div>
    {{end}}
  </div>
{{end}}
{{define "gamename"}}
  {{if (and (eq .Color "black") (or (gt .Draw 0) (gt .Pick 1)))}}
    <div class="logo_text">PYX</div>
  {{else}}
    <div class="logo_text">Pretend You're Xyzzy</div>
  {{end}}
{{end}}
{{define "round"}}
<!DOCTYPE html>
<!--
/**
 * Copyright (c) 2018, Andy Janata
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are permitted
 * provided that the following conditions are met:
 *
 * * Redistributions of source code must retain the above copyright notice, this list of conditions
 *   and the following disclaimer.
 * * Redistributions in binary form must reproduce the above copyright notice, this list of
 *   conditions and the following disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
 * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
-->
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="../static/pyx.css" media="screen">
    <title>PYX Round</title>
  </head>
  <body>
    <div style="width: 100%; height: 100%">
      <div class="game_left_side">
        <div class="game_black_card_wrapper">
          <span tabIndex="0">The black card for this round was:</span>
          <div class="card blackcard">
            <span class="card_text">{{ .BlackCard.Text }}</span>
            {{template "footer" .BlackCard}}
          </div>
        </div>
      </div>
      <div class="game_right_side">
        <div class="game_right_side_box game_white_card_wrapper">
          <span tabIndex="0">
            This round was played at <span id="round_played_timestamp">{{.FormattedTimestamp}}</span>.
            The white cards played this round were:
          </span>
          <div class="game_white_cards game_right_side_cards">
            <div class="game_white_cards_binder">
              {{range $card := .WinningPlay}}
                <div class="card whitecard selected">
                  <span class="card_text">{{ $card.Text }}</span>
                  {{template "footer" $card}}
                </div>
              {{end}}
            </div>
            {{range $cards := .OtherPlays}}
              <div class="game_white_cards_binder">
                {{range $card := $cards}}
                  <div class="card whitecard">
                    <span class="card_text">{{ $card.Text }}</span>
                    {{template "footer" $card}}
                  </div>
                {{end}}
              </div>
            {{end}}
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
    document.getElementById("round_played_timestamp").innerText = new Date({{.Timestamp}} * 1000).toLocaleString();
    </script>
  </body>
</html>
{{end}}
